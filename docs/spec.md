# バイナリ通信データ解析ツール 要件定義書（ドラフト）

## 1. プロジェクト概要

本プロジェクトは、Excel等で記述された独自の通信フォーマット仕様書を元に、バイナリ通信データ（HEX文字列やBINファイル等）を可視化・解析する**汎用的なデスクトップおよびWebベースのツール**を開発するものである。

このツールは、**可変長フィールド**や**可変個数のブロック構造**など、実際の通信プロトコルでよく見られる柔軟な構造に対応できることを目指す。

## 2. 背景・課題

- 通信データを仕様書に従って解析する作業は、手作業だと煩雑かつミスが起きやすい。
- 仕様には、以下のような複雑な構造が含まれることが多く、Excel等の一般的なツールでは処理が難しい。
  - 可変長フィールド（例：次の2バイトがデータ長、その長さ分データが続く）
  - 繰り返しブロック構造（例：最初の1バイトがブロック数、その回数だけ固定ブロックが続く）

## 3. 開発目的

- **通信フォーマット仕様に従って、バイナリデータを自動解析する**
- **ユーザーが設定した仕様書に基づき、視覚的にわかりやすく表示する**
- 最終的には**Webサービス化**を目指すが、まずは**C#によるデスクトップアプリで検証・知見を蓄積**する

## 4. 想定ユーザー

- 組み込み/FA/通信分野などで独自通信プロトコルを扱うエンジニア
- バイナリ解析を必要とする技術職（開発・テスト・サポート等）
- 自社製品のプロトコルを社内で解析・教育・共有したいチーム

## 5. 入力仕様（想定）

1. **プロトコル定義情報（ユーザーが記述）**
   - JSON形式で定義
   - 各フィールドのデータ型・長さ・依存関係を定義
   - 例：TBD

2. **通信データ**
   - 入力形式：
     - HEX文字列（例：`01 02 03 FF`）
     - バイナリファイル（.bin）
   - エンディアン設定も指定可能にする（Little / Big）

## 6. 出力仕様（想定）

- デコード結果を表形式やツリー構造で表示
- 各フィールドの意味・バイト位置・値を明示
- 可変長部分や繰り返し構造も展開表示
- エラーチェック（例：定義と実データの不整合）

## 7. 機能要件（抜粋）

| 機能                      | 説明 |
|---------------------------|------|
| プロトコル定義入力        | JSONで定義を記述・保存・読み込み |
| バイナリデータ入力        | HEX / BIN対応 |
| データ解析・表示          | プロトコル定義に従って解析・可視化 |
| 可変長/繰り返し構造対応   | 「長さ指定」「個数指定」等の依存関係に対応 |
| エンディアン指定          | Little / Big Endian切替 |
| エクスポート機能（将来的）| 解析結果をCSV等で出力 |

## 8. 技術要件（初期検討）

- 検証・知見蓄積フェーズ：C# デスクトップアプリ（WPF または WinForms）
- 本開発：Vue.js（フロントエンド） + C#（バックエンドAPI）構成
- データモデル：JSONベース
- ファイル処理：HEX文字列の解析、およびBINファイルの読み取り

## 9. 開発方針

- 段階的なプロトタイピング（デスクトップ → Web）
- 最初は固定フォーマット解析から始め、徐々に柔軟構造へ対応範囲を拡大
- 最終的には、社内利用だけでなく公開サービスとしての展開も視野に入れる
